<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<button onclick="showTimer(this)">click me</button>

<script>
    function showTimer(element, time, msg) {
        if (!arguments[1]) {
            time = 60;
        }

        if (!arguments[1]) {
            msg = "重新发送";
        }

        var countdown = time;
        var eText = element.innerHTML;

        function timer() {
            if (countdown === 0) {
                element.removeAttribute("disabled");
                element.innerHTML = eText;
                countdown = time;
                return;
            } else {
                element.setAttribute("disabled", true);
                element.innerHTML = msg + "(" + countdown + ")";
                countdown--;
            }

            setTimeout(function () {
                timer();
            }, 1000)
        }

        timer();
    }

    /**
     * @desc 是否有class
     * @param {Object} obj
     * @param {String} cls
     * @returns {Boolean}
     */
    function hasClass(obj, cls) {
        cls = cls.replace(/^\s|\s$/g, "")
        return (" " + ((obj || {}).className || "").replace(/\s/g, " ") + " ").indexOf(" " + cls + " ") >= 0;
    }

    /**
     * @desc 添加class
     * @param {Object} obj
     * @param {String} cls
     */
    function addClass(obj, cls) {
        if (!this.hasClass(obj, cls)) obj.className += " " + cls;
    }

    /**
     * @desc 删除class
     * @param {Object} obj
     * @param {String} cls
     */
    function removeClass(obj, cls) {
        cls = cls.replace(/^\s|\s$/g, "");

        if ((" " + ((obj || {}).className || "").replace(/\s/g, " ") + " ").indexOf(" " + cls + " ") >= 0) {
            var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
            obj.className = obj.className.replace(reg, ' ');
        }
    }
</script>
</body>
</html>