<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<a href="http://www.baidu.com/">http://www.baidu.com/</a>

<script src="jquery.min.js"></script>
<script>
    $("a").each(function () {
        $(this).click(function (event) {
            checkDomain(event, "192.168.0.1");
        });
    });

    /**
     * 外链确认跳转
     * @param e 触发事件Event对象
     * @param domainUrl 当前站点域名
     * @param domainName 当前站点名，默认为domainUrl值
     */
    function checkDomain(e, domainUrl, domainName) {
        if (!arguments[0]) {
            alert("传入的参数格式有误！");
            return;
        }

        if (!arguments[1]) {
            alert("传入的参数格式有误！");
            return;
        }

        var domainName = arguments[2] ? arguments[2] : arguments[1];

        var outerURL = getTarget(e).getAttribute("href");

        if (outerURL != "" && outerURL.toLowerCase().indexOf("javascript:") == -1 && outerURL.toLowerCase().indexOf(domainUrl) == -1) {
            preventDefault(e);

            var isConfirm = confirm("您访问的链接即将离开“" + domainName + "”门户网站 是否继续？")
            if (isConfirm == true) {
                window.open(outerURL);
            } else {
                return;
            }
        }
    }

    /**
     * 获取DOM对象
     * @param event Event对象
     * @returns DOM对象
     */
    function getTarget(event) {
        return event.target || event.srcElement;
    }

    /**
     * 阻止默认事件
     * @param event Event对象
     */
    function preventDefault(event) {
        if (event.preventDefault) {
            event.preventDefault();
        } else {
            event.returnValue = false;
        }
    }
</script>
</body>
</html>
